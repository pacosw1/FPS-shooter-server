parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"E9Re":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(){}return e.scale=255,e.context=null,e}();exports.default=e;
},{}],"nN9Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(){}return e.update=function(){var t=Date.now();e.deltaTime=(t-e.previousTime)/1e3,e.previousTime=t},e.deltaTime=0,e.previousTime=Date.now(),e}();exports.default=e;
},{}],"ogP5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){return function(e){this.render=function(){},this.update=function(){},this.enter=function(){},this.keyUpHandler=function(e){},this.keyDownHandler=function(e,n){},this.mouseMoveHandler=function(e){},this.engine=e}}();exports.default=e;
},{}],"vrgm":[function(require,module,exports) {
module.exports="/SpongeBullet.93ffc4c1.png";
},{}],"UKC9":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("./GameContext")),i=t(require("../assets/EXTRAS/SpongeBullet.png")),r=function(){function t(t,r,o){var n=this;this.opacity=1,this.bulletImg=new Image,this.colors=["rgba(200, 209, 174, 1)","rgba(100, 209, 103, 1)","rgba(200, 111, 209, 1)","rgba(119, 200, 209, 1)","rgba(209, 200, 68, 1)"],this.trail=[],this.render=function(){var t=e.default.context,i=n.position,r=i.x,o=i.y;t.save();var s=Math.atan2(n.rotation.Y,n.rotation.X);if(n.lineBuffer.length>=2)for(var a=0;a<n.lineBuffer.length;a++){t.beginPath();var l=(a+1)/n.lineBuffer.length*n.opacity,u=n.lineBuffer[a];t.lineWidth=1,t.strokeStyle="rgb(240, 240, 240, "+l/35+")",t.moveTo(u.x,u.y),t.lineTo(r,o),t.stroke(),t.fill()}t.translate(r,o),t.rotate(s),t.translate(-r,-o),t.drawImage(n.bulletImg,0,0,100,100,r,o,100,100),n.storeLastPosition(r,o),t.restore()},this.update=function(){},this.bulletImg.src=i.default,this.rotation=o,this.positionBuffer=[],this.position={x:t,y:r},this.lineBuffer=[],this.color="rgba(100, 50, 1, .8)"}return t.prototype.storeLastPosition=function(t,e){this.lineBuffer.push({x:t,y:e}),this.lineBuffer.length>25&&this.lineBuffer.shift()},t.prototype.updatePosition=function(t,e){this.position.x=t,this.position.y=e},t}();exports.default=r;
},{"./GameContext":"E9Re","../assets/EXTRAS/SpongeBullet.png":"vrgm"}],"IL9o":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("./GameContext")),h=function(){function t(t,e,h){var i=this;this.health=0,this.width=.5,this.height=5,this.playerWidth=0,this.color="lime",this.maxHealth=0,this.healthPercentage=1,this.position={x:0,y:0},this.updateHealth=function(t,e){i.health=t,i.position=e},this.position=t,this.playerWidth=h,this.health=e,this.maxHealth=e}return t.prototype.render=function(){var t=e.default.context,h=this.position,i=h.x,s=h.y;t.save(),t.beginPath(),s-=28,i-=28,t.fillStyle=this.color;for(var a=i+2,r=0;r<=100*this.healthPercentage;r++)t.fillRect(a,s-15,this.width,this.height),a+=this.width;t.stroke(),t.closePath(),t.restore()},t.prototype.update=function(){this.healthPercentage=this.health/this.maxHealth,this.healthPercentage<.8&&this.healthPercentage>=.5?this.color="#fccf03":this.healthPercentage<.5&&this.healthPercentage>=.3?this.color="orange":this.healthPercentage<.3&&(this.color="red")},t}();exports.default=h;
},{"./GameContext":"E9Re"}],"NjsW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){return function(){var t=this;this.render=function(){},this.update=function(){},this.getMag=function(){return t.mag},this.fire=function(e,n,i,r,a){if(0===t.mag);else if(!t.reloading&&t.mag>=1&&(i-r)/1e3>=1/a){var u=new ArrayBuffer(6),f=new Uint8Array(u,0,1),g=new Uint16Array(u,2,2);f[0]=3,g[0]=n.x,g[1]=n.y,e.send(u),t.lastFired=(new Date).getTime(),t.mag--}},this.getType=function(){return t.type},this.getMag=function(){return t.mag},this.getMagCap=function(){return t.magSize},this.load=function(e){t.mag+=e},this.reload=function(){t.mag=t.magSize}}}();exports.default=t;
},{}],"KF1J":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=t(require("../FireArm")),n=function(t){function r(){var e=t.call(this)||this;return e.fireRate=3,e.range=10,e.speed=7,e.damage=5,e.reloadSpeed=.8,e.magSize=40,e.reloading=!1,e.type="ar",e.accuracy=1,e.lastFired=(new Date).getTime(),e.reloadStart=0,e.mag=40,e.render=function(){},e.update=function(){e.reloading&&20-e.reloadStart/1e3>=e.reloadSpeed&&(e.reloading=!1)},e.lastFired=(new Date).getTime(),e}return e(r,t),r}(r.default);exports.default=n;
},{"../FireArm":"NjsW"}],"dqmW":[function(require,module,exports) {
module.exports="/Gunner.7319aaf9.png";
},{}],"NT52":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t){var u=this;this.items=[],this.bulletPouch={gun:0,ar:0,shotgun:0,sniper:0},this.getAmmo=function(t){return u.bulletPouch[t]},this.pickUpAmmo=function(t,e){u.bulletPouch[t]+e>100?u.bulletPouch[t]+=100-u.bulletPouch[t]:u.bulletPouch[t]+=e},this.loadAmmo=function(){var t=u.items[0],e=t.getMag,o=t.getMagCap,i=t.getType,l=t.load,h=o()-e();return u.bulletPouch[i()]>=h?(u.bulletPouch[i()]-=h,!0):(l(u.bulletPouch[i()]),u.bulletPouch[i()]=0,!1)},this.pickUpWeapon=function(t){u.items[0]=t},this.dropWeapon=function(){u.items[0]=null},this.capacity=10,this.weight=0,this.bulletPouch.ar=100,this.items.push(t,this.bulletPouch)}return t.prototype.update=function(){},t}();exports.default=t;
},{}],"RBgU":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("./GameContext")),i=t(require("./HP")),a=t(require("./weapons/AssaultRifle")),o=t(require("../assets/soldiers/Gunner/Gunner.png")),n=t(require("../assets/EXTRAS/SpongeBullet.png")),r=t(require("./Inventory")),s=function(){function t(t,s,h,u){var l=this;this.weapon=new a.default,this.health=100,this.healthBar=null,this.radius=35,this.firing=!1,this.characterImage=new Image,this.bulletImg=new Image,this.lastPosition={x:0,y:0},this.isDead=function(){return console.log("dead"),l.health<=0},this.mouseMoveHandler=function(t){},this.keydownHandler=function(t){switch(console.log(t),t){case"d":l.rotate=1;break;case"a":l.rotate=-1;break;case"w":l.direction=1;break;case"s":l.direction=-1;break;case" ":l.firing=!0;break;case"r":l.reload()}},this.getBag=function(){return l.bag},this.getWeapon=function(){return l.weapon},this.getHealth=function(){l.healthBar.healthPercentage},this.keyupHandler=function(t){"d"!==t&&"a"!==t||(l.rotate=0)," "===t&&(l.firing=!1),"w"!==t&&"s"!==t||(l.direction=0)},this.reload=function(){l.bag.loadAmmo()&&l.weapon.reload()},this.syncStats=function(t){l.health=t.Health,l.rotation=t.Rotation},this.setPosition=function(t){l.position.x=t.x,l.position.y=t.y},this.renderPrediction=function(t){if(0!=l.rotate&&l.predictRotate(),0!=l.direction){var e,i,a=l.rotation,o=a.X,n=a.Y,r=Math.sqrt(o*o+n*n);e=l.position.x+l.rotation.X/r*3,i=l.position.y+l.rotation.Y/r*3,l.position.x=Math.floor(100*e)/100,l.position.y=Math.floor(100*i)/100}},this.playerInput=function(){l.playingScene.processInputs(l.direction,l.rotate,l.firing),l.update()},this.predictRotate=function(){var t=1/15*l.rotate,e=l.rotation.X,i=l.rotation.Y,a=Math.cos(t)*e-Math.sin(t)*i,o=Math.sin(t)*e+Math.cos(t)*i;l.rotation.X=a,l.rotation.Y=o},this.render=function(){var t=e.default.context,i=t.canvas,a=(i.height,i.width,l.position),o=a.x,n=a.y;console.log(l.rotation);t.save();var r=Math.atan2(l.rotation.Y,l.rotation.X);o-=15,n-=15,l.healthBar.render();var s={x:o+15,y:n+15};t.translate(s.x,s.y),t.rotate(r-Math.PI/2),t.translate(-s.x,-s.y),t.drawImage(l.characterImage,35,35,96,96,o-7,n-2,150,150),t.restore()},this.characterImage.src=o.default,this.bulletImg.src=n.default,this.rotation=u,this.socket=s,this.direction=0,this.rotate=0,this.playingScene=t,this.time=(new Date).getTime(),this.positionBuffer=[],this.position=h,this.lastPosition=h,this.bag=new r.default(this.weapon),this.healthBar=new i.default(this.position,100,this.radius)}return t.prototype.outOfMag=function(){return 0==this.weapon.getMag()},t.prototype.update=function(){this.healthBar.updateHealth(this.health,this.position),this.healthBar.update(),this.time=(new Date).getTime()},t}();exports.default=s;
},{"./GameContext":"E9Re","./HP":"IL9o","./weapons/AssaultRifle":"KF1J","../assets/soldiers/Gunner/Gunner.png":"dqmW","../assets/EXTRAS/SpongeBullet.png":"vrgm","./Inventory":"NT52"}],"cXJp":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var n=e(require("./Scene")),r=e(require("./GameContext")),o=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentOption=0,t.options=["Play","Quit"],t.render=function(){var e=t.options,n=r.default.context,o=n.canvas,i=o.width,l=o.height;n.save(),n.beginPath(),n.textAlign="center",n.fillStyle="",n.font="70px 'Oswald' ",n.strokeStyle="green",n.fillStyle="white",n.fillText("Zombies",i/2,140),n.font="18px 'Open Sans Condensed' ",n.fillStyle="green",n.fillText("Multiplayer",i/2,170),n.font="35px 'Roboto Mono' ";for(var u=0;u<e.length;u++)u==t.currentOption?(n.fillStyle="green",n.fillText(e[u],i/2,l/2+35*u+10*u+30)):n.fillStyle="white",n.fillText(e[u],i/2,l/2+35*u+10*u+30);n.closePath(),n.restore()},t.update=function(){},t.enter=function(){},t.keyUpHandler=function(t){},t.keyDownHandler=function(e,n){switch(e.key){case"ArrowUp":t.currentOption=(t.currentOption-1+t.options.length)%t.options.length;break;case"ArrowDown":t.currentOption=(t.currentOption+1)%t.options.length;break;case"Enter":0===t.currentOption&&(t.engine.playerReady=!0)}},t}return t(n,e),n}(n.default);exports.default=o;
},{"./Scene":"ogP5","./GameContext":"E9Re"}],"vFDb":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=t(require("./Scene")),r=t(require("./GameContext")),o=t(require("./PrettyMainMenuScene")),i=function(t){function n(e,n){var i=t.call(this,e)||this;return i.currentOption=0,i.options=["Resume","Main menu"],i.render=function(){var e=i.options,t=r.default.context,n=t.canvas,o=n.width,u=n.height;t.save(),t.beginPath(),t.textAlign="center",t.fillStyle="white",t.font="70px 'Oswald' ",t.strokeStyle="white",t.fillText("PAUSE",o/2,140),t.fillStyle="#98c695",t.font="18px 'Open Sans Condensed' ",t.font="35px 'Roboto Mono' ";for(var c=0;c<e.length;c++)c==i.currentOption?(t.fillStyle="#98c695",t.fillText(e[c],o/2,u/2+35*c+10*c+30)):t.fillStyle="white",t.fillText(e[c],o/2,u/2+35*c+10*c+30);t.closePath(),t.restore()},i.update=function(){},i.enter=function(){},i.keyUpHandler=function(e){},i.mouseMoveHandler=function(e){},i.keyDownHandler=function(e,t){switch(e.key){case"ArrowUp":i.currentOption=(i.currentOption-1+i.options.length)%i.options.length;break;case"ArrowDown":i.currentOption=(i.currentOption+1)%i.options.length;break;case"Enter":if(0===i.currentOption){t.setCurrentScene(i.scene);break}if(1===i.currentOption){t.setCurrentScene(new o.default(i.engine));break}}},i.scene=n,i}return e(n,t),n}(n.default);exports.default=i;
},{"./Scene":"ogP5","./GameContext":"E9Re","./PrettyMainMenuScene":"cXJp"}],"v64I":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("./HP")),a=t(require("./GameContext")),r=t(require("../assets/soldiers/Gunner/Gunner.png")),i=function(){return function(t,i){var n=this;this.characterImage=new Image,this.syncStats=function(t){n.health=t.Health,n.healthBar.updateHealth(n.health,n.position),n.rotation=t.Rotation,n.healthBar.update()},this.render=function(){var t=a.default.context,e=t.canvas,r=(e.height,e.width,n.position),i=r.x,o=r.y;console.log(n.rotation),t.save(),n.healthBar.render();var h=Math.atan2(n.rotation.Y,n.rotation.X),s={x:15+(i-=15),y:15+(o-=15)};t.translate(s.x,s.y),t.rotate(h-Math.PI/2),t.translate(-s.x,-s.y),t.drawImage(n.characterImage,35,35,96,96,i-7,o-2,150,150),t.restore()},this.rotation=i,this.position={x:t.X,y:t.Y},this.health=100,this.characterImage.src=r.default,this.positionBuffer=[],this.healthBar=new e.default(this.position,this.health,30)}}();exports.default=i;
},{"./HP":"IL9o","./GameContext":"E9Re","../assets/soldiers/Gunner/Gunner.png":"dqmW"}],"T9j4":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var n=e(require("./Scene")),o=e(require("./GameContext")),r=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentOption=0,t.options=["Play Again","Quit"],t.render=function(){var e=t.options,n=o.default.context,r=n.canvas,i=r.width,l=r.height;n.save(),n.beginPath(),n.textAlign="center",n.fillStyle="white",n.font="70px 'Oswald' ",n.strokeStyle="white",n.fillText("GAME",i/2-80,140),n.fillStyle="#98c695",n.fillText("OVER",i/2+85,140),n.fillStyle="white",n.font="18px 'Open Sans Condensed' ",n.font="35px 'Roboto Mono' ";for(var u=0;u<e.length;u++)u==t.currentOption?(n.fillStyle="#98c695",n.fillText(e[u],i/2,l/2+35*u+10*u+30)):n.fillStyle="white",n.fillText(e[u],i/2,l/2+35*u+10*u+30);n.closePath(),n.restore()},t.update=function(){},t.enter=function(){},t.keyUpHandler=function(t){},t.keyDownHandler=function(e,n){switch(e.key){case"ArrowUp":t.currentOption=(t.currentOption-1+t.options.length)%t.options.length;break;case"ArrowDown":t.currentOption=(t.currentOption+1)%t.options.length;break;case"Enter":0===t.currentOption&&(t.engine.playerReady=!0)}},t}return t(n,e),n}(n.default);exports.default=r;
},{"./Scene":"ogP5","./GameContext":"E9Re"}],"eFFX":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=t(require("./Scene")),r=t(require("./Bullet")),o=t(require("./Character")),i=t(require("./PauseScene")),a=t(require("./Enemy")),s=t(require("./GameOverScene")),c=function(t){function n(e){var n=t.call(this,e)||this;return n.closeConnection=function(){n.engine.connected=!1,n.engine.playerReady=!1,n.engine.socket=null,n.engine.network=null,n.engine.setCurrentScene(new s.default(n.engine))},n.decodeProjectile=function(e){var t=e.Position,o=e.ID,i=e.Rotation;n.bullets[o]||(n.bullets[o]=new r.default(t.X,t.Y,i)),n.bullets[o].positionBuffer.push([n.time,{x:t.X,y:t.Y}]),n.serverState.projectiles[o]=1},n.decodePlayer=function(e){var t=e.ID,r=e.Health,o=e.Position,i=e.Rotation,s=e.SequenceID,c=o.X,u=o.Y;if(n.serverState.players[t]=1,n.characters[t]){var l=n.characters[t];if(l.syncStats({Health:r,Rotation:i}),t==n.socket.id){l.position.x=c,l.position.y=u;for(var d=0;d<n.pendingInputs.length;){var f=n.pendingInputs[d];f.SequenceID<=s?n.pendingInputs.splice(d,1):(l.renderPrediction(f),d++)}}else l.positionBuffer.push([n.time,{x:c,y:u}])}else n.characters[t]=new a.default({X:c,Y:u},i)},n.decodeState=function(){n.socket.onmessage=function(e){var t=e.data,r=JSON.parse(t),o=r.Players,i=r.Projectiles;for(var a in n.serverState={players:{},projectiles:{}},o)n.decodePlayer(o[a]);for(var s in i)n.decodeProjectile(i[s])}},n.onConnect=function(e){n.socket.id=e},n.compressTimestamp=function(){return n.time-n.clientConnected},n.encodeMovement=function(e){var t=e.sequenceID,n=e.pressTimeX,r=e.pressTimeY,o=new ArrayBuffer(6),i=new Uint16Array(o,4,1),a=new Int8Array(o,0,3);return i[0]=t,a[1]=n,a[2]=r,a[0]=2,o},n.processInputs=function(e,t,r){e.x,e.y;var o={Direction:e,IsShooting:r,Rotation:t,SequenceID:0,ID:n.socket.id},i=n.lastUpdate||n.time;n.time;n.lastUpdate=n.time,0==e&&0==t&&0==r||(o.SequenceID=n.sequence++,n.socket.send(JSON.stringify(o)),n.pendingInputs.push(o),n.characters[n.socket.id].renderPrediction(o))},n.renderBullets=function(){for(var e in n.bullets)n.bullets[e].opacity-=.002,n.bullets[e].render()},n.renderCharacters=function(){for(var e in n.characters)n.characters[e].render()},n.predictProjectiles=function(){},n.interpolatePlayers=function(){var e=n.time-100;for(var t in n.characters){var r=n.characters[t];if(t!=n.socket.id){if(!n.serverState.players[t])return void delete n.characters[t];for(var o=r.positionBuffer;o.length>=2&&o[1][0]<=e;)o.shift();if(o.length>=2&&o[0][0]<=e&&e<=o[1][0]){var i=o[0][1].x,a=o[1][1].x,s=o[0][1].y,c=o[1][1].y,u=o[0][0],l=o[1][0],d=i+(a-i)*(e-u)/(l-u),f=s+(c-s)*(e-u)/(l-u);n.characters[t].position.x=d,n.characters[t].position.y=f}}}},n.interpolateBullets=function(){var e=n.time-100;for(var t in n.bullets){if(!n.serverState.projectiles[t])return void delete n.bullets[t];for(var r=n.bullets[t],o=r.positionBuffer;o.length>=2&&o[1][0]<=e;)o.shift();if(o.length>=2&&o[0][0]<=e&&e<=o[1][0]){var i=o[0][1].x,a=o[1][1].x,s=o[0][1].y,c=o[1][1].y,u=o[0][0],l=o[1][0],d=i+(a-i)*(e-u)/(l-u),f=s+(c-s)*(e-u)/(l-u);r.updatePosition(Math.floor(d),Math.floor(f))}}},n.render=function(){n.renderCharacters(),n.renderBullets()},n.update=function(){n.decodeState(),n.characters[n.socket.id].playerInput(),n.interpolatePlayers(),n.interpolateBullets(),n.time=+new Date},n.enter=function(){n.time=(new Date).getTime()},n.mouseMoveHandler=function(e){n.characters[n.socket.id].mouseMoveHandler(e)},n.keyDownHandler=function(e,t){var r=e.key;"p"==r&&t.setCurrentScene(new i.default(n.engine,n)),n.characters[n.socket.id].keydownHandler(r)},n.keyUpHandler=function(e){var t=e.key;n.characters[n.socket.id].keyupHandler(t)},n.lastUpdate=null,n.socket=e.socket,n.characters={},n.bullets={},n.clientConnected=+new Date,n.pendingInputs=[],n.damage=[],n.sequence=0,n.serverState={players:{}},n.time=0,console.log(n.socket.id),n.characters[n.socket.id]=new o.default(n,n.socket,{x:0,y:0},{X:0,Y:0}),n.socket.addEventListener("close",function(){n.closeConnection()}),n}return e(n,t),n}(n.default);exports.default=c;
},{"./Scene":"ogP5","./Bullet":"UKC9","./Character":"RBgU","./PauseScene":"vFDb","./Enemy":"v64I","./GameOverScene":"T9j4"}],"Np5a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){return function(){var e=this;this.established=function(){return e.connected},this.connect=function(){console.log("Attempting to connect"),e.connected||e.awaitOpen()},this.awaitOpen=function(){console.log("checking open"),e.socket.onopen=function(){e.socket.onmessage=function(n){var t=n.data;t=JSON.parse(t),e.connected||(e.socket.id=t.ClientID),console.log(t),e.connected=!0}}},this.getSocket=function(){return e.socket},this.awaitHandshake=function(){console.log("establishing connection")},this.socket=new WebSocket("ws://66.11.115.206:8080/socket"),this.connected=!1,this.open=!1}}();exports.default=e;
},{}],"ESMC":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./GameContext")),n=e(require("./Time")),r=e(require("./PlayingScene")),c=e(require("./PrettyMainMenuScene")),i=e(require("./Network")),u=function(){return function(){var e=this;this.currentScene=null,this.start=function(){e.init(),requestAnimationFrame(e.tick)},this.mousemoveHandler=function(t){e.currentScene.mouseMoveHandler(t)},this.keydownHandler=function(t){e.currentScene.keyDownHandler(t,e)},this.keyupHandler=function(t){e.currentScene.keyUpHandler(t)},this.clearScreen=function(){var e=t.default.context,n=e.canvas,r=n.width,c=n.height;e.save(),e.beginPath(),e.fillStyle="grey",e.fillRect(0,0,r,c),e.closePath(),e.restore()},this.setCurrentScene=function(t){e.currentScene=t,e.currentScene.enter()},this.init=function(){e.currentScene=new c.default(e),e.currentScene.enter()},this.tick=function(){e.clearScreen(),n.default.update(),!e.connected&&e.playerReady&&(e.network||(e.network=new i.default),e.network.connect(),e.network.established()&&(e.socket=e.network.getSocket(),console.log("established"),e.connected=!0,e.setCurrentScene(new r.default(e)))),e.currentScene.update(),e.currentScene.render(),requestAnimationFrame(e.tick)},this.connected=!1,this.playerReady=!1,this.network=null}}();exports.default=u;
},{"./GameContext":"E9Re","./Time":"nN9Y","./PlayingScene":"eFFX","./PrettyMainMenuScene":"cXJp","./Network":"Np5a"}],"B6dB":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./Engine")),n=e(require("./GameContext")),r=document.getElementById("game-area");r.width=window.innerWidth,r.height=window.innerHeight;var d=r.getContext("2d");n.default.context=d;var a=new t.default;a.start(),r.addEventListener("keydown",a.keydownHandler),r.addEventListener("keyup",a.keyupHandler),r.addEventListener("mousemove",a.mousemoveHandler);
},{"./Engine":"ESMC","./GameContext":"E9Re"}]},{},["B6dB"], null)
//# sourceMappingURL=/src.c38ba22a.js.map